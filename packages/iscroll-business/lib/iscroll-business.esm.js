import t from"iscroll/build/iscroll-probe";var e=function(t){try{return!!t()}catch(t){return!0}},n=!e((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})),r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function o(t,e){return t(e={exports:{}},e.exports),e.exports}var i=function(t){return t&&t.Math==Math&&t},a=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof r&&r)||Function("return this")(),s=function(t){return"object"==typeof t?null!==t:"function"==typeof t},c=a.document,l=s(c)&&s(c.createElement),u=function(t){return l?c.createElement(t):{}},f=!n&&!e((function(){return 7!=Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a})),p=function(t){if(!s(t))throw TypeError(String(t)+" is not an object");return t},d=function(t,e){if(!s(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!s(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!s(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!s(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},h=Object.defineProperty,v={f:n?h:function(t,e,n){if(p(t),e=d(e,!0),p(n),f)try{return h(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},y=v.f,g=Function.prototype,m=g.toString,b=/^\s*function ([^ (]*)/;!n||"name"in g||y(g,"name",{configurable:!0,get:function(){try{return m.call(this).match(b)[1]}catch(t){return""}}});var _,w,S,O=/#|\.prototype\./,E=function(t,n){var r=j[P(t)];return r==T||r!=N&&("function"==typeof n?e(n):!!n)},P=E.normalize=function(t){return String(t).replace(O,".").toLowerCase()},j=E.data={},N=E.NATIVE="N",T=E.POLYFILL="P",x=E,B=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},C=n?function(t,e,n){return v.f(t,e,B(1,n))}:function(t,e,n){return t[e]=n,t},I=function(t,e){try{C(a,t,e)}catch(n){a[t]=e}return e},F=a["__core-js_shared__"]||I("__core-js_shared__",{}),R=o((function(t){(t.exports=function(t,e){return F[t]||(F[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.4.3",mode:"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})})),D={}.hasOwnProperty,W=function(t,e){return D.call(t,e)},A=R("native-function-to-string",Function.toString),L=a.WeakMap,H="function"==typeof L&&/native code/.test(A.call(L)),M=0,k=Math.random(),$=R("keys"),z=function(t){return $[t]||($[t]=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++M+k).toString(36)}(t))},U={},V=a.WeakMap;if(H){var G=new V,X=G.get,Y=G.has,q=G.set;_=function(t,e){return q.call(G,t,e),e},w=function(t){return X.call(G,t)||{}},S=function(t){return Y.call(G,t)}}else{var K=z("state");U[K]=!0,_=function(t,e){return C(t,K,e),e},w=function(t){return W(t,K)?t[K]:{}},S=function(t){return W(t,K)}}var Z={set:_,get:w,has:S,enforce:function(t){return S(t)?w(t):_(t,{})},getterFor:function(t){return function(e){var n;if(!s(e)||(n=w(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},J=o((function(t){var e=Z.get,n=Z.enforce,r=String(A).split("toString");R("inspectSource",(function(t){return A.call(t)})),(t.exports=function(t,e,o,i){var s=!!i&&!!i.unsafe,c=!!i&&!!i.enumerable,l=!!i&&!!i.noTargetGet;"function"==typeof o&&("string"!=typeof e||W(o,"name")||C(o,"name",e),n(o).source=r.join("string"==typeof e?e:"")),t!==a?(s?!l&&t[e]&&(c=!0):delete t[e],c?t[e]=o:C(t,e,o)):c?t[e]=o:I(e,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||A.call(this)}))})),Q={}.toString,tt=function(t){return Q.call(t).slice(8,-1)},et=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,r){return p(n),function(t){if(!s(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(r),e?t.call(n,r):n.__proto__=r,n}}():void 0),nt=function(t,e,n){var r,o;return et&&"function"==typeof(r=e.constructor)&&r!==n&&s(o=r.prototype)&&o!==n.prototype&&et(t,o),t},rt="".split,ot=e((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==tt(t)?rt.call(t,""):Object(t)}:Object,it=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},at=function(t){return ot(it(t))},st=Math.ceil,ct=Math.floor,lt=function(t){return isNaN(t=+t)?0:(t>0?ct:st)(t)},ut=Math.min,ft=Math.max,pt=Math.min,dt=function(t){return function(e,n,r){var o,i,a=at(e),s=(o=a.length)>0?ut(lt(o),9007199254740991):0,c=function(t,e){var n=lt(t);return n<0?ft(n+e,0):pt(n,e)}(r,s);if(t&&n!=n){for(;s>c;)if((i=a[c++])!=i)return!0}else for(;s>c;c++)if((t||c in a)&&a[c]===n)return t||c||0;return!t&&-1}},ht={includes:dt(!0),indexOf:dt(!1)}.indexOf,vt=function(t,e){var n,r=at(t),o=0,i=[];for(n in r)!W(U,n)&&W(r,n)&&i.push(n);for(;e.length>o;)W(r,n=e[o++])&&(~ht(i,n)||i.push(n));return i},yt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],gt=Object.keys||function(t){return vt(t,yt)},mt=n?Object.defineProperties:function(t,e){p(t);for(var n,r=gt(e),o=r.length,i=0;o>i;)v.f(t,n=r[i++],e[n]);return t},bt=a,_t=function(t){return"function"==typeof t?t:void 0},wt=function(t,e){return arguments.length<2?_t(bt[t])||_t(a[t]):bt[t]&&bt[t][e]||a[t]&&a[t][e]},St=wt("document","documentElement"),Ot=z("IE_PROTO"),Et=function(){},Pt=function(){var t,e=u("iframe"),n=yt.length;for(e.style.display="none",St.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),Pt=t.F;n--;)delete Pt.prototype[yt[n]];return Pt()},jt=Object.create||function(t,e){var n;return null!==t?(Et.prototype=p(t),n=new Et,Et.prototype=null,n[Ot]=t):n=Pt(),void 0===e?n:mt(n,e)};U[Ot]=!0;var Nt=yt.concat("length","prototype"),Tt={f:Object.getOwnPropertyNames||function(t){return vt(t,Nt)}},xt={}.propertyIsEnumerable,Bt=Object.getOwnPropertyDescriptor,Ct={f:Bt&&!xt.call({1:2},1)?function(t){var e=Bt(this,t);return!!e&&e.enumerable}:xt},It=Object.getOwnPropertyDescriptor,Ft={f:n?It:function(t,e){if(t=at(t),e=d(e,!0),f)try{return It(t,e)}catch(t){}if(W(t,e))return B(!Ct.f.call(t,e),t[e])}},Rt="[\t\n\v\f\r                　\u2028\u2029\ufeff]",Dt=RegExp("^"+Rt+Rt+"*"),Wt=RegExp(Rt+Rt+"*$"),At=function(t){return function(e){var n=String(it(e));return 1&t&&(n=n.replace(Dt,"")),2&t&&(n=n.replace(Wt,"")),n}},Lt={start:At(1),end:At(2),trim:At(3)},Ht=Tt.f,Mt=Ft.f,kt=v.f,$t=Lt.trim,zt=a.Number,Ut=zt.prototype,Vt="Number"==tt(jt(Ut)),Gt=function(t){var e,n,r,o,i,a,s,c,l=d(t,!1);if("string"==typeof l&&l.length>2)if(43===(e=(l=$t(l)).charCodeAt(0))||45===e){if(88===(n=l.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+l}for(a=(i=l.slice(2)).length,s=0;s<a;s++)if((c=i.charCodeAt(s))<48||c>o)return NaN;return parseInt(i,r)}return+l};if(x("Number",!zt(" 0o1")||!zt("0b1")||zt("+0x1"))){for(var Xt,Yt=function(t){var n=arguments.length<1?0:t,r=this;return r instanceof Yt&&(Vt?e((function(){Ut.valueOf.call(r)})):"Number"!=tt(r))?nt(new zt(Gt(n)),r,Yt):Gt(n)},qt=n?Ht(zt):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Kt=0;qt.length>Kt;Kt++)W(zt,Xt=qt[Kt])&&!W(Yt,Xt)&&kt(Yt,Xt,Mt(zt,Xt));Yt.prototype=Ut,Ut.constructor=Yt,J(a,"Number",Yt)}var Zt={f:Object.getOwnPropertySymbols},Jt=wt("Reflect","ownKeys")||function(t){var e=Tt.f(p(t)),n=Zt.f;return n?e.concat(n(t)):e},Qt=function(t,e){for(var n=Jt(e),r=v.f,o=Ft.f,i=0;i<n.length;i++){var a=n[i];W(t,a)||r(t,a,o(e,a))}},te=Ft.f;!function(t,e){var n,r,o,i,s,c=t.target,l=t.global,u=t.stat;if(n=l?a:u?a[c]||I(c,{}):(a[c]||{}).prototype)for(r in e){if(i=e[r],o=t.noTargetGet?(s=te(n,r))&&s.value:n[r],!x(l?r:c+(u?".":"#")+r,t.forced)&&void 0!==o){if(typeof i==typeof o)continue;Qt(i,o)}(t.sham||o&&o.sham)&&C(i,"sham",!0),J(n,r,i,t)}}({target:"Object",stat:!0,forced:!n,sham:!n},{defineProperty:v.f});var ee={none:"none",loading:"loadingBox",nomore:"nomore"},ne={name:"iscrollBusiness",props:{openPullDown:{type:Boolean,default:!0},openPullUp:{type:Boolean,default:!0},refreshSize:{type:Number,default:90}},data:function(){return{wrap:null,myScroll:null,refreshH:0,disAndHeiRatio:0,stylePercent:0,canRefresh:!1,canLoad:!1,loadStatus:ee.none}},mounted:function(){this.wrap=this.$refs.wrap,this.scroller=this.wrap.querySelector(".scroller"),this.myScroll=new t(this.wrap,{probeType:3,mouseWheel:!0,click:!0,taps:!0}),this.init()},beforeDestroy:function(){this.destroy()},methods:{scrollHandler:function(){oe.call(this),re.call(this)},eventBindForWin:function(t){ae(window,"resize",se,t)},eventBindForDoc:function(t){ae(document,"touchmove",ce,t)},eventBindForWrap:function(t){ae(this.wrap,"touchend",ie.bind(this),t)},init:function(){this.eventBindForDoc(),this.eventBindForWin(),this.myScroll.on("scroll",this.scrollHandler),this.eventBindForWrap()},destroy:function(){this.eventBindForDoc(!0),this.eventBindForWin(!0),this.myScroll.off("scroll",this.scrollHandler),this.eventBindForWrap(!0),this.myScroll.destroy(),this.wrap=this.myScroll=null}},watch:{canRefresh:function(){var t=this;this.$nextTick((function(){t.myScroll.refresh()}))},loadStatus:function(){var t=this;this.$nextTick((function(){t.myScroll.refresh()}))}}};function re(){var t=this;if(this.openPullUp&&!this.canLoad&&this.loadStatus!==ee.nomore){var e=this.myScroll,n=this.scroller.clientHeight,r=this.wrap.clientHeight,o=r-e.y;n<r||n-o<200&&(this.canLoad=!0,this.loadStatus=ee.loading,this.$emit("onPullUp",(function(){t.canLoad=!1,t.loadStatus=ee.none}),(function(){t.canLoad=!1,t.loadStatus=ee.nomore})))}}function oe(){if(this.openPullDown){var t=this.myScroll,e=this.scroller.children[0];this.refreshH=e?e.clientHeight:0,t.y>0&&(this.disAndHeiRatio=t.y/this.refreshH,this.stylePercent=Math.min(this.disAndHeiRatio,1))}}function ie(){var t=this;if(!this.canRefresh){var e=this.myScroll;this.disAndHeiRatio>=1&&(e.y=e.y-this.refreshH,e.resetPosition(600),this.canRefresh=!0,e.disable(),this.$emit("onPullDown",(function(){t.canLoad=!1,t.loadStatus=ee.none,e.y=t.refreshH,e.resetPosition(300),e.enable(),t.canRefresh=!1})))}}function ae(t,e,n,r){t[r?"removeEventListener":"addEventListener"](e,n,!!function(){var t=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){t=!0}}))}catch(t){}return t}()&&{capture:!1,passive:!1})}function se(){window.scrollTo(0,0)}function ce(t){t.preventDefault()}function le(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=t:o.appendChild(document.createTextNode(t))}}le("body{touch-action:none}");le("@keyframes rotate-data-v-5a933f0b{to{transform:rotate(1turn)}}.iscrollBusinessWrap[data-v-5a933f0b]{position:absolute;z-index:1;top:0;bottom:0;left:0;width:100%;overflow:hidden}.iscrollBusinessWrap .scroller[data-v-5a933f0b]{position:absolute;z-index:1;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;transform:translateZ(0);user-select:none;text-size-adjust:none}.iscrollBusinessWrap .scroller .contentDefault[data-v-5a933f0b]{color:#e24d48}.iscrollBusinessWrap .scroller .refreshDefault[data-v-5a933f0b]{display:flex;justify-content:center;align-items:center}.iscrollBusinessWrap .scroller .refreshDefault .refresh[data-v-5a933f0b]{position:relative;height:20px}.iscrollBusinessWrap .scroller .loadingDefault[data-v-5a933f0b]{display:flex;justify-content:center;align-items:center}.iscrollBusinessWrap .scroller .loadingDefault .loading[data-v-5a933f0b],.iscrollBusinessWrap .scroller .loadingDefault .nomore[data-v-5a933f0b]{line-height:30px;height:30px}.iscrollBusinessWrap .scroller .loadingBox .nomore[data-v-5a933f0b],.iscrollBusinessWrap .scroller .nomore .loading[data-v-5a933f0b],.iscrollBusinessWrap .scroller .none[data-v-5a933f0b]{display:none}");"undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());var ue=ne,fe=function(){var t,e=this,n=e.$createElement,r=e._self._c||n;return r("div",{ref:"wrap",staticClass:"iscrollBusinessWrap"},[r("div",{staticClass:"scroller"},[e.openPullDown?r("div",{staticClass:"refreshDefault",style:{opacity:e.canRefresh?1:e.stylePercent,transform:"scale("+(e.canRefresh?1:e.stylePercent)+")",height:e.refreshSize+"px",marginTop:e.canRefresh?0:"-"+e.refreshSize+"px"}},[e._t("refresh",[r("div",{staticClass:"refresh"},[e._v("\n                    默认icon\n                ")])])],2):e._e(),e._v(" "),e._t("list",[r("div",{staticClass:"listDefault"},[e._v("\n                please insert custom lists\n            ")])]),e._v(" "),e.openPullUp?r("div",{class:(t={loadingDefault:!0},t[e.loadStatus]=!0,t)},[e._t("loading",[r("div",{staticClass:"loading"},[e._v("加载中")]),e._v(" "),r("div",{staticClass:"nomore"},[e._v("没有更多了")])])],2):e._e(),e._v(" "),e._t("btmBlock")],2)])};fe._withStripped=!0;var pe=function(t,e,n,r,o,i,a,s,c,l){"boolean"!=typeof a&&(c=s,s=a,a=!1);var u,f="function"==typeof n?n.options:n;if(t&&t.render&&(f.render=t.render,f.staticRenderFns=t.staticRenderFns,f._compiled=!0,o&&(f.functional=!0)),r&&(f._scopeId=r),i?(u=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(i)},f._ssrRegister=u):e&&(u=a?function(t){e.call(this,l(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),u)if(f.functional){var p=f.render;f.render=function(t,e){return u.call(e),p(t,e)}}else{var d=f.beforeCreate;f.beforeCreate=d?[].concat(d,u):[u]}return n}({render:fe,staticRenderFns:[]},void 0,ue,"data-v-5a933f0b",!1,void 0,!1,void 0,void 0,void 0),de={install:function(t,e){t.component(pe.name,pe)}};export default de;
